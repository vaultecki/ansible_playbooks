# ansible.cfg
# ===========
# Projektweite Ansible-Konfiguration.
# Diese Datei im Projektroot ablegen (neben inventory.yaml).
# Ansible liest sie automatisch, wenn sie im aktuellen Verzeichnis liegt.

[defaults]
# Inventory
inventory           = inventory.yaml

# SSH-Konfiguration aus ~/.ssh/config verwenden
ssh_args            = -F ~/.ssh/config

# Ausgabe lesbarer machen
stdout_callback     = yaml
bin_ansible_callbacks = true

# Fakten cachen (beschleunigt Folge-Runs)
fact_caching        = jsonfile
fact_caching_connection = .ansible_cache
fact_caching_timeout = 3600     # 1 Stunde

# Vault-Passwort-Datei (optional, nicht einchecken!)
# vault_password_file = ~/.vault_pass

# Parallele Ausführung
forks               = 5

# Retry-Dateien deaktivieren (vermeidet .retry-Müll im Projektordner)
retry_files_enabled = false

[privilege_escalation]
become              = true
become_ask_pass     = false

[ssh_connection]
# Pipelining reduziert die Anzahl der SSH-Verbindungen erheblich
pipelining          = true
# SSH-Multiplexing aus ~/.ssh/config wird respektiert
control_path_dir    = ~/.ssh/cm
